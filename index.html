local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Player = game.Players.LocalPlayer

local Config = {
    ProxyBase = "https://discord.roproxy.com/api/v9/channels/",
    Channels = {
        "1417720809211957260", 
        "1431067779376746567", 
        "1417720983745200240"
    }
}

local function GetContainer()
    local UI = nil
    pcall(function() UI = gethui() end)
    if not UI then
        pcall(function() UI = game:GetService("CoreGui") end)
    end
    return UI or Player:WaitForChild("PlayerGui")
end

local Target = GetContainer()
if Target:FindFirstChild("BrainrotFinder") then
    Target.BrainrotFinder:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BrainrotFinder"
ScreenGui.Parent = Target
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false

local Main = Instance.new("Frame")
Main.Name = "MainFrame"
Main.Parent = ScreenGui
Main.Size = UDim2.new(0, 350, 0, 450)
Main.Position = UDim2.new(0.5, -175, 0.5, -225)
Main.BackgroundColor3 = Color3.fromRGB(15, 18, 26)
Main.BorderSizePixel = 0
Main.Active = true

local function MakeDraggable(frame)
    local s, input, startPos
    frame.InputBegan:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then
            s = true; input = i; startPos = i.Position
            i.Changed:Connect(function()
                if i.UserInputState == Enum.UserInputState.End then s = false end
            end)
        end
    end)
    game:GetService("UserInputService").InputChanged:Connect(function(i)
        if i == input and s then
            local delta = i.Position - startPos
            frame.Position = UDim2.new(0.5, -175 + delta.X, 0.5, -225 + delta.Y)
        end
    end)
end
MakeDraggable(Main)

Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 8)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, 0, 0, 45)
Title.BackgroundColor3 = Color3.fromRGB(25, 30, 40)
Title.Text = "  BRAINROT FINDER"
Title.TextColor3 = Color3.fromRGB(80, 180, 255)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 8)

local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(1, -20, 1, -60)
Scroll.Position = UDim2.new(0, 10, 0, 55)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 3
Scroll.CanvasSize = UDim2.new(0, 0, 0, 0)

local Layout = Instance.new("UIListLayout", Scroll)
Layout.Padding = UDim.new(0, 8)
Layout.SortOrder = Enum.SortOrder.LayoutOrder

local function AttemptJoin(msg)
    local jobId = msg:match('"%s*([%w%-]+%-[%w%-]+%-[%w%-]+%-[%w%-]+%-[%w%-]+)%s*"') or msg:match("JobId: ([%w%-]+)")
    local placeId = msg:match("PlaceId: (%d+)") or tostring(game.PlaceId)
    if jobId then
        TeleportService:TeleportToPlaceInstance(tonumber(placeId), jobId, Player)
    end
end

local function Refresh()
    for _, v in pairs(Scroll:GetChildren()) do
        if v:IsA("Frame") then v:Destroy() end
    end
    for _, channelId in pairs(Config.Channels) do
        task.spawn(function()
            local success, response = pcall(function()
                return HttpService:GetAsync(Config.ProxyBase .. channelId .. "/messages?limit=5")
            end)
            if success and response then
                local data = HttpService:JSONDecode(response)
                for _, msg in pairs(data) do
                    local Entry = Instance.new("Frame", Scroll)
                    Entry.Size = UDim2.new(1, 0, 0, 60)
                    Entry.BackgroundColor3 = Color3.fromRGB(25, 28, 38)
                    Instance.new("UICorner", Entry)
                    local MsgText = Instance.new("TextLabel", Entry)
                    MsgText.Size = UDim2.new(0.7, -10, 1, 0)
                    MsgText.Position = UDim2.new(0, 10, 0, 0)
                    MsgText.Text = (msg.content and msg.content ~= "") and msg.content or "Server Update Found"
                    MsgText.TextColor3 = Color3.new(0.9, 0.9, 0.9)
                    MsgText.TextWrapped = true
                    MsgText.BackgroundTransparency = 1
                    MsgText.TextSize = 11
                    MsgText.Font = Enum.Font.Gotham
                    MsgText.TextXAlignment = Enum.TextXAlignment.Left
                    local JoinBtn = Instance.new("TextButton", Entry)
                    JoinBtn.Size = UDim2.new(0.3, -10, 0.6, 0)
                    JoinBtn.Position = UDim2.new(0.7, 5, 0.2, 0)
                    JoinBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
                    JoinBtn.Text = "JOIN"
                    JoinBtn.TextColor3 = Color3.new(1, 1, 1)
                    JoinBtn.Font = Enum.Font.GothamBold
                    Instance.new("UICorner", JoinBtn)
                    JoinBtn.MouseButton1Click:Connect(function() AttemptJoin(msg.content) end)
                end
                Scroll.CanvasSize = UDim2.new(0, 0, 0, Layout.AbsoluteContentSize.Y + 20)
            end
        end)
    end
end

Refresh()
task.spawn(function()
    while task.wait(30) do Refresh() end
end)
